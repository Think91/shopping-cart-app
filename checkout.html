

<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
 <!-- main css -->
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" src="style.css">
  <link rel="stylesheet"src="all.css">
  <!-- font awesome -->
  <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.4.1.js"
  integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
  crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/js/all.min.js"></script>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet" />

<style>
img{
  width: 200px;
  position: top-left;
}
.popup {
  width: 98%;
  padding: 15px;
  left: 0;
  margin-left: 1%;
  border: 1px solid #ccc;
  border-radius: 10px;
  background: white;
  position: absolute;
  top: -100%;
  box-shadow: 5px 5px 5px #000;
  z-index: 10001;
}
@media (min-width: 768px) {
  .popup {
    width: 66.66666666%;
    margin-left: 16.666666%;
  }
}
@media (min-width: 992px) {
  .popup {
    width: 50%;
    margin-left: 25%;
  }
}
@media (min-width: 1200px) {
  .popup {
    width: 33.33333%;
    margin-left: 33.33333%;
  }
}
</style>
<script src="https://code.jquery.com/jquery-3.4.1.js"
  integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
  crossorigin="anonymous"></script>


   <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>


</script>
<script>
	
//Calculate shipping

_calculateShipping: function( qty ) {
  var shipping = 0;
  if( qty >= 6 ) {
    shipping = 10;
  }
  if( qty >= 12 && qty <= 30 ) {
    shipping = 20;
  }
  if( qty >= 30 && qty <= 60 ) {
    shipping = 30;
  }
  if( qty > 60 ) {
    //shipping = 0;
  }
  return shipping;
}

//Discount codes

function calculateDiscount(discountCode) {
    if(discountCode == 'CODE1') {
        return 10;}
// Add as many of the else if statements below as you need.
 // This is how you can apply multiple discount codes.
 // Please do not change the formatting.

 // If you do not need to apply multiple discount codes
 // simply delete the statements you do not need.
        else if(discountCode == 'CODE2') {
            return 100;}
            else if(discountCode == 'CODE3') {
              return 125;}
 Always end this with a 0 so that a $0 discount
 will be applied if they put the wrong code
                else {return 0;}
            }

/* Converts a numeric string into a number
 * @param numStr String the numeric string to be converted
 * @returns num Number the number, or false if the string cannot be converted
 */

_convertString: function( numStr ) {
    var num;
    if( /^[-+]?[0-9]+.[0-9]+$/.test( numStr ) ) {
        num = parseFloat( numStr );
    } else if( /^d+$/.test( numStr ) ) {
        num = parseInt( numStr );
    } else {
        num = Number( numStr );
    }

    if( !isNaN( num ) ) {
        return num;
    } else {
        console.warn( numStr + " cannot be converted into a number" );
        return false;
    }
},

/* Converts a number to a string
 * @param n Number the number to be converted
 * @returns str String the string returned
 */

_convertNumber: function( n ) {
    var str = n.toString();
    return str;
}




// Displays the user's information

displayUserDetails: function() {
    if( this.$userDetails.length ) {
        if( this.storage.getItem( "shipping-name" ) == null ) {
            var name = this.storage.getItem( "billing-name" );
            var email = this.storage.getItem( "billing-email" );
            var city = this.storage.getItem( "billing-city" );
            var address = this.storage.getItem( "billing-address" );
            var zip = this.storage.getItem( "billing-zip" );
            var country = this.storage.getItem( "billing-country" );

            var html = "<div class='detail'>";
                html += "<h2>Billing and Shipping</h2>";
                html += "<ul>";
                html += "<li>" + name + "</li>";
                html += "<li>" + email + "</li>";
                html += "<li>" + city + "</li>";
                html += "<li>" + address + "</li>";
                html += "<li>" + zip + "</li>";
                html += "<li>" + country + "</li>";
                html += "</ul></div>";

            this.$userDetails[0].innerHTML = html;
        } else {
            var name = this.storage.getItem( "billing-name" );
            var email = this.storage.getItem( "billing-email" );
            var city = this.storage.getItem( "billing-city" );
            var address = this.storage.getItem( "billing-address" );
            var zip = this.storage.getItem( "billing-zip" );
            var country = this.storage.getItem( "billing-country" );

            var sName = this.storage.getItem( "shipping-name" );
            var sEmail = this.storage.getItem( "shipping-email" );
            var sCity = this.storage.getItem( "shipping-city" );
            var sAddress = this.storage.getItem( "shipping-address" );
            var sZip = this.storage.getItem( "shipping-zip" );
            var sCountry = this.storage.getItem( "shipping-country" );

            var html = "<div class='detail'>";
                html += "<h2>Billing</h2>";
                html += "<ul>";
                html += "<li>" + name + "</li>";
                html += "<li>" + email + "</li>";
                html += "<li>" + city + "</li>";
                html += "<li>" + address + "</li>";
                html += "<li>" + zip + "</li>";
                html += "<li>" + country + "</li>";
                html += "</ul></div>";

                html += "<div class='detail right'>";
                html += "<h2>Shipping</h2>";
                html += "<ul>";
                html += "<li>" + sName + "</li>";
                html += "<li>" + sEmail + "</li>";
                html += "<li>" + sCity + "</li>";
                html += "<li>" + sAddress + "</li>";
                html += "<li>" + sZip + "</li>";
                html += "<li>" + sCountry + "</li>";
                html += "</ul></div>";

            this.$userDetails[0].innerHTML = html;

        }
    }
}



// Appends the required hidden values to PayPal's form before submitting

populatePayPalForm: function() {
    var self = this;
    if( self.$paypalForm.length ) {
        var $form = self.$paypalForm;
        var cart = self._toJSONObject( self.storage.getItem( self.cartName ) );
        var shipping = self.storage.getItem( self.shippingRates );
        var numShipping = self._convertString( shipping );
        var cartItems = cart.items;
        var singShipping = Math.floor( numShipping / cartItems.length );

        $form.attr( "action", self.paypalURL );
        $form.find( "input[name='business']" ).val( self.paypalBusinessEmail );
        $form.find( "input[name='currency_code']" ).val( self.paypalCurrency );

        for( var i = 0; i < cartItems.length; ++i ) {
            var cartItem = cartItems[i];
            var n = i + 1;
            var name = cartItem.product;
            var price = cartItem.price;
            var qty = cartItem.qty;

            $( "<div/>" ).html( "<input type='hidden' name='quantity_" + n + "' value='" + qty + "'/>" ).
            insertBefore( "#paypal-btn" );
            $( "<div/>" ).html( "<input type='hidden' name='item_name_" + n + "' value='" + name + "'/>" ).
            insertBefore( "#paypal-btn" );
            $( "<div/>" ).html( "<input type='hidden' name='item_number_" + n + "' value='SKU " + name + "'/>" ).
            insertBefore( "#paypal-btn" );
            $( "<div/>" ).html( "<input type='hidden' name='amount_" + n + "' value='" + self._formatNumber( price, 2 ) + "'/>" ).
            insertBefore( "#paypal-btn" );
            $( "<div/>" ).html( "<input type='hidden' name='shipping_" + n + "' value='" + self._formatNumber( singShipping, 2 ) + "'/>" ).
            insertBefore( "#paypal-btn" );

        }

    }
}



$.Shop.prototype = {
    init: function() {
        // Properties

            this.cartPrefix = "winery-"; // prefix string to be prepended to the cart's name in session storage
            this.cartName = this.cartPrefix + "cart"; // cart's name in session storage
            this.shippingRates = this.cartPrefix + "shipping-rates"; // shipping rates key in session storage
            this.total = this.cartPrefix + "total"; // total key in the session storage
            this.storage = sessionStorage; // shortcut to sessionStorage object

            this.$formAddToCart = this.$element.find( "form.add-to-cart" ); // forms for adding items to the cart
            this.$formCart = this.$element.find( "#shopping-cart" ); // Shopping cart form
            this.$checkoutCart = this.$element.find( "#checkout-cart" ); // checkout form cart
            this.$checkoutOrderForm = this.$element.find( "#checkout-order-form" ); // checkout user details form
            this.$shipping = this.$element.find( "#sshipping" ); // element that displays the shipping rates
            this.$subTotal = this.$element.find( "#stotal" ); // element that displays the subtotal charges
            this.$shoppingCartActions = this.$element.find( "#shopping-cart-actions" ); // cart actions links
            this.$updateCartBtn = this.$shoppingCartActions.find( "#update-cart" ); // update cart button
            this.$emptyCartBtn = this.$shoppingCartActions.find( "#empty-cart" ); // empty cart button
            this.$userDetails = this.$element.find( "#user-details-content" ); // element that displays the user's information
            this.$paypalForm = this.$element.find( "#paypal-form" ); // PayPal form

            this.currency = "&euro;"; // HTML entity of the currency to be displayed in layout
            this.currencyString = "â‚¬"; // currency symbol as text string
            this.paypalCurrency = "EUR"; // PayPal's currency code
            this.paypalBusinessEmail = "yourbusiness@email.com"; // your PayPal Business account email address
            this.paypalURL = "https://www.sandbox.paypal.com/cgi-bin/webscr"; // URL of the PayPal form

            // object containing patterns for form validation
            this.requiredFields = {
                expression: {
                    value: /^([w-.]+)@((?:[w]+.)+)([a-z]){2,4}$/
                },

                str: {
                    value: ""
                }

            };

            // public methods invocation
    }
};

</script>

</head>
<body>
<header>
   <nav class="main-nav nav">
                <ul>
                    <li><a href="index.html">HOME</a></li>
                    <li><a href="store.html">STORE</a></li>
                    <li><a href="checkout.html">CHECKOUT</a></li>
                </ul>
            </nav>
    <!-- end of nav -->
    <!-- banner  -->
    <div class="container-fluid">
      <div class="row max-height justify-content-center align-items-center">
        <div class="col-10 mx-auto banner text-center">
          <h1 class="text-capitalize"> <strong class="banner-title ">thank you for shopping in our gadget bar!</strong></h1>
          <a href="store.html" class="btn banner-link text-uppercase my-2">continue shopping</a>

        </div>
        <div id="cart" class="cart">
         
          <!-- cart buttons -->
          <div class="cart-buttons-container mt-3 d-flex justify-content-between">
          	<button class="open-dialog">Confirm Order</button>
            <!--end of  cart buttons -->
          <!--  -->
        </div>
      </div>
    </div>




    <!--end of  banner  -->
  </header>
  <!-- header -->
    <!-- end of nav -->
<h1>Fill in the form below to confirm order.</h1>

<p>Choose a payment option below.</p>

<form name="form1" action="order.html" method="post" id="checkout-order-form">

<input type="hidden" name="cmd" value="_cart">

<input type="hidden" name="add" value="1">

<input type="hidden" value="seller@example-domain.com" name="business">

<input type="hidden" name="item_name" value="Coupon Code 1">

<input type="hidden" name="item_number" value="001">

<input type="hidden" value="Selected" name="on0">Select<BR>

<select name="os0">

<option value="Option 1" selected>EFT

<option value="Option 2">Debit

<option value="Option 3">Over the counter

</option>

</select><BR>

Enter Coupon number:<BR>

<input type="text" name="on1" size="10" onChange="on1Verify( )">

<br><input type="hidden" value="DISCOUNT" name="os1">



Shipping:<BR> <SELECT name="shipping">

<OPTION value="5.00" >Standard

<OPTION value="10.00" >Next Day

<OPTION value="15.00" >Over Night

</SELECT>

<input type="hidden" select_name="shipping" value=""> 

<input type="hidden" name="shipping2" value="5.00"> <BR>

Handling:<BR>

<input type="text" name="handling" value="2.00" size="10"> 


<div id="pricing">
    <p id="shipping">
        <strong>Shipping</strong>: <span id="sshipping"></span>
    </p>

</div>

<form action="order.html" method="post" id="checkout-order-form">
    <h2>Your Details</h2>
        <fieldset id="fieldset-billing">
            <legend>We are billing</legend>
                <!-- Name, Email, City, Address, ZIP Code, Country (select box) -->

<div>
    <label for="name">Name</label>
    <input type="text" name="name" id="name" data-type="string" data-message="This field may not be empty" />
</div>

<div>
    <label for="email">Email</label>
    <input type="text" name="email" id="email" data-type="expression" data-message="Not a valid email address" />
</div>

<div>
    <label for="city">City</label>
    <input type="text" name="city" id="city" data-type="string" data-message="This field may not be empty" />
</div>

<div>
    <label for="address">Address</label>
        <input type="text" name="address" id="address" data-type="string" data-message="This field may not be empty" />
</div>

<div>
    <label for="zip">ZIP Code</label>
    <input type="text" name="zip" id="zip" data-type="string" data-message="This field may not be empty" />
</div>

<div>
    <label for="country">Country</label>
        <select name="country" id="country" data-type="string" data-message="This field may not be empty">
            <option value="">Select</option>
            <option value="RW">Ruwanda</option>
            <option value="ML">Malawi</option>
            <option value="SA">South Africa</option>
        </select>
</div>
</fieldset>

<div id="shipping-same"> Include shipping <input type="checkbox" id="same-as-billing" value=""/></div>
<BR><p>OR</p>
<fieldset id="fieldset-shipping">
<div id="shipping-same"> Come and Collect <input type="checkbox" id="same-as-billing" value=""/></div>
    <!-- Same fields as billing -->
</fieldset>
<BR>
 

</form>



<script src="http://code.jquery.com/jquery.js"></script>
 

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script>
function showPrompt(msg)
{
  // CREATE A Promise TO RETURN
  var p = new Promise(function(resolve, reject) {;
  
    var dialog = $('<div/>', {class: 'popup'})
      .append(
        $('<p/>').html(msg)
      )
      .append(
        $('<div/>', {class: 'text-right'})
          .append($('<button/>', {class: 'btn btn-cancel'}).html('Cancel').on('click', function() {
            $('.overlay').remove();
            // RESOLVE Promise TO false
            resolve(false);
          }))
          .append($('<button/>', {class: 'btn btn-primary'}).html('Ok').on('click', function() {
            $('.overlay').remove();
            // RESOLVE Promise TO true
            resolve(true);
          }))
      );
      
    var overlay = $('<div/>', {class: 'overlay'})
      .append(dialog);
    
    $('body').append(overlay);
    $(dialog).animate({top: '15%'}, 1000);
  });
  
  // RETURN THE Promise
  return p;
}
 
$(function() {
  // HANDLE open-dialog CLICK
  $('.open-dialog').on('click',function(e) {
    // PREVENT DEFAULT BEHAVIOUR FOR <a/>
    e.preventDefault();
 
    // SAVE PROMISE RETURN
    var res = showPrompt('Your order is successful');
    res.then(function(ret) {
      ret ? alert('Your reference code is:    COVID-19') : alert('Order is cancelled!');
    })
  });
});
</script>
    <!-- jquery -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>

  <!-- bootstrap js -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  <!-- script js -->
<script src="https://code.jquery.com/jquery-3.4.1.js"
  integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
  crossorigin="anonymous"></script>
  <script src="main.js"></script>
  <script>


//This creates a chained effect to slide all elements on the page repeatedly whislt changing the background.//
$(document).ready(function() {
    setInterval(animateBoxes, 4000);
    setInterval(changecolors, 2000);
    function animateBoxes() {
        $(".boxes").animate({right: '500px'}, 1000).animate({left: '500px'}, 1000);
        $(".boxes").slideUp(2000).slideDown(2000);
    }
    animateBoxes();
    var counter = 0;
    function changecolors() {
        var colors = ["azure", "lavender", "Lightcyan", "Grainsboro"];
        if (counter < colors.length) {
            $("body").css("background-color", colors[counter], 1000);
            console.log("Counter: " + counter + " Colors Length: " + colors.length)
            counter++;
        } else {
            counter = 0;
        }
        console.log(colors.length);
    }
    changecolors();
});



 </script>
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

</body>
</html>